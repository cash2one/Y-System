{% macro pagination_widget(pagination, endpoint, fragment='') %}
<div class="ui bottom attached tabular pagination mini menu">
    {% if not pagination.has_prev %}
    <div class="disabled item"><i class="chevron left icon"></i></div>
    {% else %}
    <a class="item loading" href="{% if pagination.has_prev %}{{ url_for(endpoint, page=pagination.prev_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}"><i class="chevron left icon"></i></a>
    {% endif %}
    {% for p in pagination.iter_pages() %}
    {% if p %}
    {% if p == pagination.page %}
    <a class="active item loading" href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
    {% else %}
    <a class="item loading" href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
    {% endif %}
    {% else %}
    <a class="disabled item" href="#"><i class="ellipsis horizontal icon"></i></a>
    {% endif %}
    {% endfor %}
    {% if not pagination.has_next %}
    <div class="disabled item"><i class="chevron right icon"></i></div>
    {% else %}
    <a class="item loading" href="{% if pagination.has_next %}{{ url_for(endpoint, page=pagination.next_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}"><i class="chevron right icon"></i></a>
    {% endif %}
</div>
{% endmacro %}
