{% extends "base.html" %}
{% import "_macros.html" as macros %}

{% block title %}系统实况{% endblock %}

{% block customized_styles %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/customize-manage-summary.css') }}">
{% endblock %}

{% block page_masthead %}
<div class="ui text container">
    {{ macros.message_widget() }}
    <h1 class="ui inverted header"><i class="dashboard icon"></i> 系统实况</h1>
</div>
{% endblock %}

{% block page_content %}
<div class="ui vertical stripe stats segment">
    <div class="ui equal width stackable internally celled grid">
        <div class="center aligned row">
            <div class="column">
                <div class="ui blue statistic">
                    <div class="label">VB总论</div>
                    <div class="label">到场/预约人数</div>
                    <div class="value">
                        <span id="stat-vb-intro">0</span>/<span id="stat-vb-intro-total">0</span>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui teal statistic">
                    <div class="label">GRE总论</div>
                    <div class="label">到场/预约人数</div>
                    <div class="value">
                        <span id="stat-gre-intro">0</span>/<span id="stat-gre-intro-total">0</span>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui teal statistic">
                    <div class="label">AW总论</div>
                    <div class="label">到场/预约人数</div>
                    <div class="value">
                        <span id="stat-aw-intro">0</span>/<span id="stat-aw-intro-total">0</span>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui blue statistic">
                    <div class="label">VB L1-3</div>
                    <div class="label">到场/预约人数</div>
                    <div class="value">
                        <span id="stat-vb-l1-3">0</span>/<span id="stat-vb-l1-3-total">0</span>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui blue statistic">
                    <div class="label">VB L4-10</div>
                    <div class="label">到场/预约人数</div>
                    <div class="value">
                        <span id="stat-vb-l4-10">0</span>/<span id="stat-vb-l4-10-total">0</span>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui teal statistic">
                    <div class="label">Y-GRE 1st-9th</div>
                    <div class="label">到场/预约人数</div>
                    <div class="value">
                        <span id="stat-y-gre">0</span>/<span id="stat-y-gre-total">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="ui vertical stripe stats segment">
    <div class="ui equal width stackable internally celled grid">
        <div class="center aligned row">
            <div class="column">
                <div class="ui statistic">
                    <div class="label">1103</div>
                    <div class="label">iPad使用情况</div>
                    <div class="value">
                        <span id="stat-ipad-rent-1103">0</span>/<span id="stat-ipad-total-1103">0</span>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui statistic">
                    <div class="label">1103</div>
                    <div class="label">未预约到场人数</div>
                    <div id="stat-walk-in-1103" class="value">0</div>
                </div>
            </div>
            <div class="column">
                <div class="ui statistic">
                    <div class="label">1103</div>
                    <div class="label">遗留人数</div>
                    <div id="stat-overtime-1103" class="value">0</div>
                </div>
            </div>
            <div class="column">
                <div class="ui statistic">
                    <div class="label">1707</div>
                    <div class="label">iPad使用情况</div>
                    <div class="value">
                        <span id="stat-ipad-rent-1707">0</span>/<span id="stat-ipad-total-1707">0</span>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui statistic">
                    <div class="label">1707</div>
                    <div class="label">未预约到场人数</div>
                    <div id="stat-walk-in-1707" class="value">0</div>
                </div>
            </div>
            <div class="column">
                <div class="ui statistic">
                    <div class="label">1707</div>
                    <div class="label">遗留人数</div>
                    <div id="stat-overtime-1707" class="value">0</div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="ui vertical stripe segment">
    <div class="ui middle aligned stackable grid container">
        <div class="row">
            <div class="column">
                <h3 class="ui header"><i class="tablet icon"></i> iPad状态</h3>
                <div class="ui tabular menu">
                    {% if show_summary_ipad_1103 %}
                    <a class="item active loading-trigger" href="{{ url_for('manage.summary_room_1103_ipads') }}">1103</a>
                    <a class="item loading-trigger" href="{{ url_for('manage.summary_room_1707_ipads') }}">1707</a>
                    <a class="item loading-trigger" href="{{ url_for('manage.summary_other_ipads') }}">其它</a>
                    {% endif %}
                    {% if show_summary_ipad_1707 %}
                    <a class="item loading-trigger" href="{{ url_for('manage.summary_room_1103_ipads') }}">1103</a>
                    <a class="item active loading-trigger" href="{{ url_for('manage.summary_room_1707_ipads') }}">1707</a>
                    <a class="item loading-trigger" href="{{ url_for('manage.summary_other_ipads') }}">其它</a>
                    {% endif %}
                    {% if show_summary_ipad_others %}
                    <a class="item loading-trigger" href="{{ url_for('manage.summary_room_1103_ipads') }}">1103</a>
                    <a class="item loading-trigger" href="{{ url_for('manage.summary_room_1707_ipads') }}">1707</a>
                    <a class="item active loading-trigger" href="{{ url_for('manage.summary_other_ipads') }}">其它</a>
                    {% endif %}
                </div>
                <div id="ipads" class="ui five stackable cards"></div>
            </div>
        </div>
    </div>
</div>

<div class="ui vertical stripe segment">
    <div class="ui middle aligned stackable grid container">
        <div class="row">
            <div class="column">
                <h3 class="ui header"><i class="user icon"></i> 查询用户档案</h3>
                <div class="ui search">
                    <div class="ui left icon input">
                        <input class="prompt" type="text" placeholder="姓名/邮箱">
                        <i class="user icon"></i>
                    </div>
                    <div class="results"></div>
                </div>
            </div>
        </div>
    </div>
</div>

{% if announcements %}
<div class="ui vertical stripe segment">
    <div class="ui middle aligned stackable grid container">
        <div class="row">
            <div class="column">
                <h3 class="ui header"><i class="announcement icon"></i> 通知</h3>
                <div class="ui divided items">
                    {% for announcement in announcements %}
                    <div class="item">
                        <div class="content">
                            <div class="header">{{ announcement.title }}</div>
                            <div class="meta">发布人：{{ announcement.modified_by.name }}</div>
                            <div class="description">
                                <p>{{ announcement.body_html | safe }}</p>
                            </div>
                            <div class="extra">
                                <i class="notched circle loading icon"></i>
                                {{ moment(announcement.modified_at).fromNow() }}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}

{% block customized_scripts %}
{{ super() }}
<script src="//cdnjs.cloudflare.com/ajax/libs/countup.js/1.7.1/countUp.min.js"></script>
<script>
    var roomID = '{{ room_id }}';
</script>
<script src="{{ url_for('static', filename='assets/js/customize-manage-summary.js') }}"></script>
{% endblock %}
